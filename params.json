{
  "name": "Dockreg",
  "tagline": "Ansible orchestrated docker registry 2.0",
  "body": "DockReg\r\n================================================================================\r\n##### (Ansible Orchestrated Docker Registry 2.0)\r\n\r\n###### Creation: Lingxiao Xia\r\n###### Creation Date: 2016-03-16\r\n\r\nThis package creates a tls enabled and password protected `Docker` registry using the image `registry:2`. \r\n\r\nThis package generates its own CA and provisions the destination hosts to trust the CA.\r\n\r\nA few steps to take before running the playbook:\r\n\r\n1. Please open the inventory files [staging](staging) and modify the staging destinations according to your setup.\r\n2. Please install `ansible 2.0.0.2` and its dependencies.\r\n3. Run `ansible-vault create vars/common_vault` and add the following variables for passwords:\r\n    * `vault_ca_pass`\r\n    * `vault_registry_pass`\r\n4. Please install `docker 1.10.0` and its dependencies.\r\n\r\nTo generate the CA, start the registry and login to the registry from all destination hosts:\r\n```\r\nansible-playbook -i staging --ask-vault-pass -K run.yaml\r\n```\r\n\r\nTo stop and remove the registry at staging environment:\r\n```\r\nansible-playbook -i staging --ask-vault-pass stop.yaml\r\n```\r\n\r\nTo clean up all generated contents at staging environment:\r\n```\r\nansible-playbook -i staging --ask-vault-pass -K clean.yaml\r\n```\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}